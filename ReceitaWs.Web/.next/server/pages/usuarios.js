(()=>{var e={};e.id=891,e.ids=[220,636,891],e.modules={361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},438:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{A:()=>o});var s=r(1428),n=e([s]);let i=(s=(n.then?(await n)():n)[0]).default.create({baseURL:process.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:5000",headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>{let t=localStorage.getItem("jwtToken")||sessionStorage.getItem("jwtToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,e=>(e.response?.status,Promise.reject(e)));let o=i;a()}catch(e){a(e)}})},1110:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{k:()=>o});var s=r(2015),n=r(1402),i=e([n]);n=(i.then?(await i)():i)[0];let o=()=>{let[e,t]=(0,s.useState)([]),[r,a]=(0,s.useState)(!0),[i,o]=(0,s.useState)(null),[l,c]=(0,s.useState)({username:"",email:"",password:"",role:""}),u=(0,s.useCallback)(async()=>{a(!0);try{let e=await (0,n.ZZ)();t(e)}finally{a(!1)}},[]),d=()=>{c({username:"",email:"",password:"",role:""}),o(null)},h=async()=>{i?await (0,n.TK)(i,l):await (0,n.kg)(l),await u(),d()},x=async e=>{await (0,n.hG)(e),await u()};return(0,s.useEffect)(()=>{u()},[u]),{users:e,loading:r,form:l,editingId:i,setForm:c,handleSave:h,handleEdit:e=>{o(e.id),c({...e,password:""})},handleDelete:x,resetForm:d}};a()}catch(e){a(e)}})},1402:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{TK:()=>o,ZZ:()=>l,hG:()=>c,kg:()=>i});var s=r(438),n=e([s]);async function i(e){let{data:t}=await s.A.post("/api/Auth/register",e);return t}async function o(e,t){let{data:r}=await s.A.put(`/api/Auth/Update?id=${e}`,t);return r}async function l(){let{data:e}=await s.A.get("/api/Auth/GetAll");return Array.isArray(e)?e:e.users}async function c(e){let{data:t}=await s.A.delete(`/api/Auth/${e}`);return t}s=(n.then?(await n)():n)[0],a()}catch(e){a(e)}})},1428:e=>{"use strict";e.exports=import("axios")},1719:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>p});var s=r(8732),n=r(2015),i=r(4233),o=r(8011),l=r(9263),c=r(9733),u=r(1110),d=r(5172),h=r(4061),x=e([o,l,c,u,d,h]);function p(){let{token:e}=(0,o.A)();(0,i.useRouter)();let[t,r]=(0,n.useState)(!0),{users:a,loading:x,form:p,editingId:g,setForm:m,handleEdit:j,handleDelete:S,handleSave:y,resetForm:b}=(0,u.k)();return t?(0,s.jsxs)(c.Center,{minH:"100vh",children:[(0,s.jsx)(c.Spinner,{size:"lg"}),(0,s.jsx)(c.Text,{ml:4,children:"Verificando sess\xe3o..."})]}):(0,s.jsxs)(l.A,{children:[(0,s.jsx)(c.Heading,{mb:6,children:"Usu\xe1rios"}),(0,s.jsx)(d.q,{form:p,isEditing:!!g,onChange:(e,t)=>m(r=>({...r,[e]:t})),onSave:y,onCancel:b}),x?(0,s.jsx)(c.Spinner,{mt:6}):(0,s.jsx)(c.VStack,{spacing:4,mt:6,children:a.map(e=>(0,s.jsx)(h.$,{user:e,onEdit:j,onDelete:S},e.id))})]})}[o,l,c,u,d,h]=x.then?(await x)():x,a()}catch(e){a(e)}})},2015:e=>{"use strict";e.exports=require("react")},2177:e=>{"use strict";e.exports=import("zustand")},2326:e=>{"use strict";e.exports=require("react-dom")},2386:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>o});var s=r(8732),n=r(9733);r(2768);var i=e([n]);function o({Component:e,pageProps:t}){return(0,s.jsx)(n.ChakraProvider,{children:(0,s.jsx)(e,{...t})})}n=(i.then?(await i)():i)[0],a()}catch(e){a(e)}})},2768:()=>{},3873:e=>{"use strict";e.exports=require("path")},4061:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{$:()=>o});var s=r(8732),n=r(9733),i=e([n]);n=(i.then?(await i)():i)[0];let o=({user:e,onEdit:t,onDelete:r})=>(0,s.jsxs)(n.Box,{p:4,border:"1px solid",borderRadius:"md",children:[(0,s.jsx)(n.Text,{fontWeight:"bold",children:e.username}),(0,s.jsx)(n.Text,{children:e.email}),(0,s.jsxs)(n.Text,{children:["Role: ",e.role]}),(0,s.jsxs)(n.Flex,{mt:3,gap:2,children:[(0,s.jsx)(n.Button,{size:"sm",onClick:()=>t(e),children:"Editar"}),(0,s.jsx)(n.Button,{size:"sm",colorScheme:"red",variant:"outline",onClick:()=>r(e.id),children:"Excluir"})]})]});a()}catch(e){a(e)}})},4075:e=>{"use strict";e.exports=require("zlib")},4887:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>m,default:()=>h,getServerSideProps:()=>g,getStaticPaths:()=>p,getStaticProps:()=>x,reportWebVitals:()=>j,routeModule:()=>f,unstable_getServerProps:()=>w,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>b,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>S});var s=r(3885),n=r(237),i=r(1413),o=r(9616),l=r.n(o),c=r(2386),u=r(1719),d=e([c,u]);[c,u]=d.then?(await d)():d;let h=(0,i.M)(u,"default"),x=(0,i.M)(u,"getStaticProps"),p=(0,i.M)(u,"getStaticPaths"),g=(0,i.M)(u,"getServerSideProps"),m=(0,i.M)(u,"config"),j=(0,i.M)(u,"reportWebVitals"),S=(0,i.M)(u,"unstable_getStaticProps"),y=(0,i.M)(u,"unstable_getStaticPaths"),b=(0,i.M)(u,"unstable_getStaticParams"),w=(0,i.M)(u,"unstable_getServerProps"),v=(0,i.M)(u,"unstable_getServerSideProps"),f=new s.PagesRouteModule({definition:{kind:n.A.PAGES,page:"/usuarios",pathname:"/usuarios",bundlePath:"",filename:""},components:{App:c.default,Document:l()},userland:u});a()}catch(e){a(e)}})},5172:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{q:()=>o});var s=r(8732),n=r(9733),i=e([n]);n=(i.then?(await i)():i)[0];let o=({form:e,isEditing:t,onChange:r,onSave:a,onCancel:i})=>(0,s.jsx)(n.Box,{p:4,border:"1px solid",borderRadius:"md",children:(0,s.jsxs)(n.Stack,{spacing:3,children:[(0,s.jsx)(n.Input,{placeholder:"Username",value:e.username,onChange:e=>r("username",e.target.value)}),(0,s.jsx)(n.Input,{placeholder:"Email",type:"email",value:e.email,onChange:e=>r("email",e.target.value)}),(0,s.jsx)(n.Input,{placeholder:"Senha",type:"password",value:e.password,onChange:e=>r("password",e.target.value)}),(0,s.jsx)(n.Input,{placeholder:"Role",value:e.role,onChange:e=>r("role",e.target.value)}),(0,s.jsxs)(n.Flex,{gap:3,children:[(0,s.jsx)(n.Button,{colorScheme:"blue",onClick:a,children:t?"Salvar":"Cadastrar"}),(0,s.jsx)(n.Button,{variant:"ghost",onClick:i,children:"Cancelar"})]})]})});a()}catch(e){a(e)}})},6560:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{A:()=>u});var s=r(8732),n=r(9733),i=r(5887),o=r(4233),l=r(8011),c=e([n,l]);function u(){let e=(0,o.useRouter)(),t=(0,l.A)(e=>e.logout),{colorMode:r,toggleColorMode:a}=(0,n.useColorMode)(),c=(0,n.useColorModeValue)("white","gray.900"),u=(0,n.useColorModeValue)("gray.200","gray.700"),{isOpen:d,onOpen:h,onClose:x}=(0,n.useDisclosure)(),p=()=>{localStorage.removeItem("token"),t(),e.replace("/login")};return(0,s.jsxs)(n.Box,{as:"header",px:4,mt:5,zIndex:10,children:[(0,s.jsx)(n.Box,{bg:c,borderRadius:"full",boxShadow:"lg",border:"1px solid",borderColor:u,px:6,py:4,maxW:"6xl",mx:"auto",children:(0,s.jsxs)(n.Flex,{align:"center",justify:"space-between",wrap:"wrap",children:[(0,s.jsx)(n.Text,{fontSize:{base:"lg",md:"xl"},fontWeight:"bold",color:"blue.500",children:"ReceitaWs"}),(0,s.jsx)(n.IconButton,{"aria-label":"Abrir menu",icon:(0,s.jsx)(i.ND1,{}),display:{base:"inline-flex",md:"none"},onClick:h,variant:"ghost"}),(0,s.jsxs)(n.HStack,{spacing:6,display:{base:"none",md:"flex"},children:[(0,s.jsx)(n.Button,{leftIcon:(0,s.jsx)(i.qYx,{}),variant:"ghost",onClick:()=>e.push("/empresa"),colorScheme:"blue",children:"Empresas"}),(0,s.jsx)(n.Button,{leftIcon:(0,s.jsx)(i.cfS,{}),variant:"ghost",onClick:()=>e.push("/usuarios"),colorScheme:"purple",children:"Usu\xe1rios"})]}),(0,s.jsxs)(n.HStack,{spacing:4,display:{base:"none",md:"flex"},children:[(0,s.jsxs)(n.Flex,{align:"center",gap:2,children:[(0,s.jsx)(n.Icon,{as:"light"===r?i.Wh$:i.hkc,color:"light"===r?"yellow.500":"blue.300",boxSize:5}),(0,s.jsx)(n.Switch,{isChecked:"dark"===r,onChange:a,colorScheme:"yellow","aria-label":"Alternar modo de cor"})]}),(0,s.jsxs)(n.Menu,{children:[(0,s.jsx)(n.MenuButton,{as:n.IconButton,"aria-label":"Abrir configura\xe7\xf5es",icon:(0,s.jsx)(i.VSk,{}),variant:"outline",size:"md"}),(0,s.jsx)(n.MenuList,{children:(0,s.jsx)(n.MenuItem,{icon:(0,s.jsx)(n.Icon,{as:i.QeK,color:"red.500"}),onClick:p,children:"Sair"})})]})]})]})}),(0,s.jsxs)(n.Drawer,{isOpen:d,placement:"right",onClose:x,children:[(0,s.jsx)(n.DrawerOverlay,{}),(0,s.jsxs)(n.DrawerContent,{bg:c,children:[(0,s.jsx)(n.DrawerCloseButton,{}),(0,s.jsx)(n.DrawerBody,{mt:10,children:(0,s.jsxs)(n.VStack,{spacing:6,align:"start",children:[(0,s.jsx)(n.Button,{leftIcon:(0,s.jsx)(i.qYx,{}),variant:"ghost",colorScheme:"blue",onClick:()=>{e.push("/empresa"),x()},children:"Empresas"}),(0,s.jsx)(n.Button,{leftIcon:(0,s.jsx)(i.cfS,{}),variant:"ghost",colorScheme:"purple",onClick:()=>{e.push("/usuarios"),x()},children:"Usu\xe1rios"}),(0,s.jsxs)(n.Flex,{align:"center",gap:3,w:"full",justifyContent:"flex-start",children:[(0,s.jsx)(n.Icon,{as:"light"===r?i.Wh$:i.hkc,color:"light"===r?"yellow.500":"blue.300",boxSize:5,marginLeft:4}),"Dark Mode",(0,s.jsx)(n.Switch,{isChecked:"dark"===r,onChange:a,colorScheme:"yellow",size:"lg","aria-label":"Alternar modo de cor"})]}),(0,s.jsx)(n.Button,{leftIcon:(0,s.jsx)(i.QeK,{}),colorScheme:"red",variant:"ghost",onClick:p,children:"Sair"})]})})]})]})]})}[n,l]=c.then?(await c)():c,a()}catch(e){a(e)}})},7910:e=>{"use strict";e.exports=require("stream")},8011:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{A:()=>i});var s=r(2177),n=e([s]);s=(n.then?(await n)():n)[0];let i=(0,s.create)(e=>({token:null,user:null,setAuth:(t,r)=>{localStorage.setItem("token",t),e({token:t,user:r})},logout:()=>{localStorage.removeItem("token"),e({token:null,user:null})}}));a()}catch(e){a(e)}})},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},9021:e=>{"use strict";e.exports=require("fs")},9263:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{A:()=>l});var s=r(8732),n=r(9733),i=r(6560),o=e([n,i]);function l({children:e}){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.A,{}),(0,s.jsx)(n.Box,{as:"main",p:8,children:e})]})}[n,i]=o.then?(await o)():o,a()}catch(e){a(e)}})},9733:e=>{"use strict";e.exports=import("@chakra-ui/react")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[616,441,887],()=>r(4887));module.exports=a})();