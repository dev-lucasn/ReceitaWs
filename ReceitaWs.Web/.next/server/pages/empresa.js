(()=>{var e={};e.id=477,e.ids=[220,477,636],e.modules={361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},438:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{A:()=>i});var a=r(1428),n=e([a]);let o=(a=(n.then?(await n)():n)[0]).default.create({baseURL:process.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:5000",headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{let t=localStorage.getItem("jwtToken")||sessionStorage.getItem("jwtToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),o.interceptors.response.use(e=>e,e=>(e.response?.status,Promise.reject(e)));let i=o;s()}catch(e){s(e)}})},1428:e=>{"use strict";e.exports=import("axios")},2015:e=>{"use strict";e.exports=require("react")},2177:e=>{"use strict";e.exports=import("zustand")},2326:e=>{"use strict";e.exports=require("react-dom")},2386:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>i});var a=r(8732),n=r(9733);r(2768);var o=e([n]);function i({Component:e,pageProps:t}){return(0,a.jsx)(n.ChakraProvider,{children:(0,a.jsx)(e,{...t})})}n=(o.then?(await o)():o)[0],s()}catch(e){s(e)}})},2768:()=>{},3231:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>j,default:()=>h,getServerSideProps:()=>m,getStaticPaths:()=>p,getStaticProps:()=>x,reportWebVitals:()=>g,routeModule:()=>f,unstable_getServerProps:()=>S,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>b,unstable_getStaticPaths:()=>C,unstable_getStaticProps:()=>y});var a=r(3885),n=r(237),o=r(1413),i=r(9616),l=r.n(i),c=r(2386),d=r(6329),u=e([c,d]);[c,d]=u.then?(await u)():u;let h=(0,o.M)(d,"default"),x=(0,o.M)(d,"getStaticProps"),p=(0,o.M)(d,"getStaticPaths"),m=(0,o.M)(d,"getServerSideProps"),j=(0,o.M)(d,"config"),g=(0,o.M)(d,"reportWebVitals"),y=(0,o.M)(d,"unstable_getStaticProps"),C=(0,o.M)(d,"unstable_getStaticPaths"),b=(0,o.M)(d,"unstable_getStaticParams"),S=(0,o.M)(d,"unstable_getServerProps"),v=(0,o.M)(d,"unstable_getServerSideProps"),f=new a.PagesRouteModule({definition:{kind:n.A.PAGES,page:"/empresa",pathname:"/empresa",bundlePath:"",filename:""},components:{App:c.default,Document:l()},userland:d});s()}catch(e){s(e)}})},3873:e=>{"use strict";e.exports=require("path")},3976:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{R:()=>i});var a=r(2015),n=r(4510),o=e([n]);function i(){let[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!1),o=async()=>{s(!0);try{let e=await (0,n.f$)();t(e.data.companys)}finally{s(!1)}};return{data:e,loading:r,refresh:o}}n=(o.then?(await o)():o)[0],s()}catch(e){s(e)}})},4075:e=>{"use strict";e.exports=require("zlib")},4510:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{JT:()=>l,Nv:()=>o,RC:()=>c,f$:()=>i});var a=r(438),n=e([a]);async function o(e){return a.A.post(`/api/Company/register?cnpj=${e}`)}async function i(){return a.A.get("/api/Company/GetAll")}async function l(e,t){return a.A.put(`/api/Company/update/${e}`,t)}async function c(e){return a.A.delete(`/api/Company/delete/${e}`)}a=(n.then?(await n)():n)[0],s()}catch(e){s(e)}})},6329:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>p});var a=r(8732),n=r(2015),o=r(9733),i=r(7467),l=r(8743),c=r(3976),d=r(9263),u=r(4233),h=r(7322),x=e([o,i,l,c,d,h]);function p(){let[e,t]=(0,n.useState)(null),{data:r,loading:s,refresh:x}=(0,c.R)();return(0,u.useRouter)(),(0,a.jsx)(d.A,{children:(0,a.jsxs)(o.Box,{p:8,children:[(0,a.jsx)(o.Heading,{mb:6,children:"Cadastro de Empresas"}),(0,a.jsx)(i.A,{onSuccess:x}),(0,a.jsxs)(o.VStack,{mt:8,spacing:4,align:"stretch",children:[(0,a.jsx)(l.u,{data:r,loading:s,onRefresh:x,onEdit:e=>{t(e)}}),(0,a.jsx)(h.D,{isOpen:!!e,onClose:()=>t(null),company:e,onSuccess:x})]})]})})}[o,i,l,c,d,h]=x.then?(await x)():x,s()}catch(e){s(e)}})},6560:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{A:()=>d});var a=r(8732),n=r(9733),o=r(5887),i=r(4233),l=r(8011),c=e([n,l]);function d(){let e=(0,i.useRouter)(),t=(0,l.A)(e=>e.logout),{colorMode:r,toggleColorMode:s}=(0,n.useColorMode)(),c=(0,n.useColorModeValue)("white","gray.900"),d=(0,n.useColorModeValue)("gray.200","gray.700"),{isOpen:u,onOpen:h,onClose:x}=(0,n.useDisclosure)(),p=()=>{localStorage.removeItem("token"),t(),e.replace("/login")};return(0,a.jsxs)(n.Box,{as:"header",px:4,mt:5,zIndex:10,children:[(0,a.jsx)(n.Box,{bg:c,borderRadius:"full",boxShadow:"lg",border:"1px solid",borderColor:d,px:6,py:4,maxW:"6xl",mx:"auto",children:(0,a.jsxs)(n.Flex,{align:"center",justify:"space-between",wrap:"wrap",children:[(0,a.jsx)(n.Text,{fontSize:{base:"lg",md:"xl"},fontWeight:"bold",color:"blue.500",children:"ReceitaWs"}),(0,a.jsx)(n.IconButton,{"aria-label":"Abrir menu",icon:(0,a.jsx)(o.ND1,{}),display:{base:"inline-flex",md:"none"},onClick:h,variant:"ghost"}),(0,a.jsxs)(n.HStack,{spacing:6,display:{base:"none",md:"flex"},children:[(0,a.jsx)(n.Button,{leftIcon:(0,a.jsx)(o.qYx,{}),variant:"ghost",onClick:()=>e.push("/empresa"),colorScheme:"blue",children:"Empresas"}),(0,a.jsx)(n.Button,{leftIcon:(0,a.jsx)(o.cfS,{}),variant:"ghost",onClick:()=>e.push("/usuarios"),colorScheme:"purple",children:"Usu\xe1rios"})]}),(0,a.jsxs)(n.HStack,{spacing:4,display:{base:"none",md:"flex"},children:[(0,a.jsxs)(n.Flex,{align:"center",gap:2,children:[(0,a.jsx)(n.Icon,{as:"light"===r?o.Wh$:o.hkc,color:"light"===r?"yellow.500":"blue.300",boxSize:5}),(0,a.jsx)(n.Switch,{isChecked:"dark"===r,onChange:s,colorScheme:"yellow","aria-label":"Alternar modo de cor"})]}),(0,a.jsxs)(n.Menu,{children:[(0,a.jsx)(n.MenuButton,{as:n.IconButton,"aria-label":"Abrir configura\xe7\xf5es",icon:(0,a.jsx)(o.VSk,{}),variant:"outline",size:"md"}),(0,a.jsx)(n.MenuList,{children:(0,a.jsx)(n.MenuItem,{icon:(0,a.jsx)(n.Icon,{as:o.QeK,color:"red.500"}),onClick:p,children:"Sair"})})]})]})]})}),(0,a.jsxs)(n.Drawer,{isOpen:u,placement:"right",onClose:x,children:[(0,a.jsx)(n.DrawerOverlay,{}),(0,a.jsxs)(n.DrawerContent,{bg:c,children:[(0,a.jsx)(n.DrawerCloseButton,{}),(0,a.jsx)(n.DrawerBody,{mt:10,children:(0,a.jsxs)(n.VStack,{spacing:6,align:"start",children:[(0,a.jsx)(n.Button,{leftIcon:(0,a.jsx)(o.qYx,{}),variant:"ghost",colorScheme:"blue",onClick:()=>{e.push("/empresa"),x()},children:"Empresas"}),(0,a.jsx)(n.Button,{leftIcon:(0,a.jsx)(o.cfS,{}),variant:"ghost",colorScheme:"purple",onClick:()=>{e.push("/usuarios"),x()},children:"Usu\xe1rios"}),(0,a.jsxs)(n.Flex,{align:"center",gap:3,w:"full",justifyContent:"flex-start",children:[(0,a.jsx)(n.Icon,{as:"light"===r?o.Wh$:o.hkc,color:"light"===r?"yellow.500":"blue.300",boxSize:5,marginLeft:4}),"Dark Mode",(0,a.jsx)(n.Switch,{isChecked:"dark"===r,onChange:s,colorScheme:"yellow",size:"lg","aria-label":"Alternar modo de cor"})]}),(0,a.jsx)(n.Button,{leftIcon:(0,a.jsx)(o.QeK,{}),colorScheme:"red",variant:"ghost",onClick:p,children:"Sair"})]})})]})]})]})}[n,l]=c.then?(await c)():c,s()}catch(e){s(e)}})},7322:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{D:()=>d});var a=r(8732),n=r(9733),o=r(4510),i=r(2015),l=r(9433),c=e([n,o]);[n,o]=c.then?(await c)():c;let d=({isOpen:e,onClose:t,company:r,onSuccess:s})=>{let c=(0,n.useToast)(),[d,u]=(0,i.useState)({tradeName:"",status:"",mainActivity:"",street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zipCode:""});(0,i.useEffect)(()=>{if(r){let e=r.address?.split(", ")||[];u({tradeName:r.tradeName||"",status:r.status||"",mainActivity:r.mainActivity||"",street:e[0]||"",number:e[1]||"",complement:e[2]||"",neighborhood:e[3]||"",city:e[4]||"",state:e[5]||"",zipCode:e[6]||""})}},[r]);let h=e=>{u({...d,[e.target.name]:e.target.value})},x=async()=>{if(r)try{await (0,o.JT)(r.id,d),c({title:"Empresa atualizada com sucesso!",status:"success",duration:3e3,isClosable:!0}),t(),s()}catch(e){c({title:"Erro ao atualizar empresa",status:"error",duration:3e3,isClosable:!0})}};return r?(0,a.jsxs)(n.Modal,{isOpen:e,onClose:t,size:"xl",children:[(0,a.jsx)(n.ModalOverlay,{}),(0,a.jsxs)(n.ModalContent,{children:[(0,a.jsx)(n.ModalHeader,{children:"Editar Empresa"}),(0,a.jsx)(n.ModalCloseButton,{}),(0,a.jsx)(n.ModalBody,{children:(0,a.jsxs)(n.VStack,{spacing:4,children:[(0,a.jsxs)(n.FormControl,{children:[(0,a.jsx)(n.FormLabel,{children:"CNPJ"}),(0,a.jsx)(n.Input,{value:(0,l.R)(r.cnpj),isReadOnly:!0})]}),(0,a.jsxs)(n.FormControl,{children:[(0,a.jsx)(n.FormLabel,{children:"Nome Fantasia"}),(0,a.jsx)(n.Input,{name:"tradeName",value:d.tradeName,onChange:h})]}),(0,a.jsxs)(n.FormControl,{children:[(0,a.jsx)(n.FormLabel,{children:"Status"}),(0,a.jsx)(n.Input,{name:"status",value:d.status,onChange:h})]}),(0,a.jsxs)(n.FormControl,{children:[(0,a.jsx)(n.FormLabel,{children:"Atividade Principal"}),(0,a.jsx)(n.Input,{name:"mainActivity",value:d.mainActivity,onChange:h})]}),(0,a.jsxs)(n.FormControl,{children:[(0,a.jsx)(n.FormLabel,{children:"Rua"}),(0,a.jsx)(n.Input,{name:"street",value:d.street,onChange:h})]}),(0,a.jsxs)(n.FormControl,{children:[(0,a.jsx)(n.FormLabel,{children:"N\xfamero"}),(0,a.jsx)(n.Input,{name:"number",value:d.number,onChange:h})]}),(0,a.jsxs)(n.FormControl,{children:[(0,a.jsx)(n.FormLabel,{children:"Complemento"}),(0,a.jsx)(n.Input,{name:"complement",value:d.complement,onChange:h})]}),(0,a.jsxs)(n.FormControl,{children:[(0,a.jsx)(n.FormLabel,{children:"Bairro"}),(0,a.jsx)(n.Input,{name:"neighborhood",value:d.neighborhood,onChange:h})]}),(0,a.jsxs)(n.FormControl,{children:[(0,a.jsx)(n.FormLabel,{children:"Cidade"}),(0,a.jsx)(n.Input,{name:"city",value:d.city,onChange:h})]}),(0,a.jsxs)(n.FormControl,{children:[(0,a.jsx)(n.FormLabel,{children:"Estado"}),(0,a.jsx)(n.Input,{name:"state",value:d.state,onChange:h})]}),(0,a.jsxs)(n.FormControl,{children:[(0,a.jsx)(n.FormLabel,{children:"CEP"}),(0,a.jsx)(n.Input,{name:"zipCode",value:d.zipCode,onChange:h})]})]})}),(0,a.jsxs)(n.ModalFooter,{children:[(0,a.jsx)(n.Button,{colorScheme:"green",onClick:x,mr:3,children:"Salvar"}),(0,a.jsx)(n.Button,{variant:"ghost",onClick:t,children:"Cancelar"})]})]})]}):null};s()}catch(e){s(e)}})},7467:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{A:()=>c});var a=r(8732),n=r(9733),o=r(2015),i=r(4510),l=e([n,i]);[n,i]=l.then?(await l)():l;let c=({onSuccess:e})=>{let[t,r]=(0,o.useState)(""),[s,l]=(0,o.useState)(!1),c=(0,n.useToast)(),d=async()=>{if(t){l(!0);try{await (0,i.Nv)(t),c({title:"Empresa registrada com sucesso!",status:"success",duration:3e3,isClosable:!0}),r(""),e()}catch(e){c({title:"Erro ao registrar empresa",description:e?.response?.data||"Erro inesperado.",status:"error",duration:4e3,isClosable:!0})}finally{l(!1)}}};return(0,a.jsxs)(n.Box,{mb:6,children:[(0,a.jsxs)(n.FormControl,{children:[(0,a.jsx)(n.FormLabel,{children:"CNPJ"}),(0,a.jsx)(n.Input,{value:t,onChange:e=>r(e.target.value),placeholder:"Digite o CNPJ"})]}),(0,a.jsxs)(n.VStack,{align:"start",spacing:3,mt:4,children:[(0,a.jsx)(n.Button,{colorScheme:"green",onClick:d,isLoading:s,children:"Registrar CNPJ"}),(0,a.jsx)(n.Button,{onClick:()=>{e()},children:"Buscar"})]})]})};s()}catch(e){s(e)}})},7910:e=>{"use strict";e.exports=require("stream")},8011:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{A:()=>o});var a=r(2177),n=e([a]);a=(n.then?(await n)():n)[0];let o=(0,a.create)(e=>({token:null,user:null,setAuth:(t,r)=>{localStorage.setItem("token",t),e({token:t,user:r})},logout:()=>{localStorage.removeItem("token"),e({token:null,user:null})}}));s()}catch(e){s(e)}})},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},8743:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{u:()=>c});var a=r(8732),n=r(9733),o=r(4510),i=r(9433),l=e([n,o]);[n,o]=l.then?(await l)():l;let c=({data:e,loading:t,onRefresh:r,onEdit:s})=>{let l=(0,n.useToast)(),c=async e=>{try{await (0,o.RC)(e),l({title:"Empresa removida com sucesso",status:"success",duration:3e3,isClosable:!0}),r()}catch{l({title:"Erro ao remover empresa",status:"error",duration:3e3,isClosable:!0})}};return t?(0,a.jsx)(n.Spinner,{size:"xl",color:"blue.500"}):(0,a.jsxs)(n.Table,{variant:"striped",size:"md",children:[(0,a.jsx)(n.Thead,{children:(0,a.jsxs)(n.Tr,{children:[(0,a.jsx)(n.Th,{children:"Raz\xe3o Social"}),(0,a.jsx)(n.Th,{children:"Nome Fantasia"}),(0,a.jsx)(n.Th,{children:"CNPJ"}),(0,a.jsx)(n.Th,{children:"Status"}),(0,a.jsx)(n.Th,{children:"Data de Abertura"}),(0,a.jsx)(n.Th,{children:"Tipo"}),(0,a.jsx)(n.Th,{children:"Natureza Jur\xeddica"}),(0,a.jsx)(n.Th,{children:"Atividade Principal"}),(0,a.jsx)(n.Th,{children:"Endere\xe7o"}),(0,a.jsx)(n.Th,{isNumeric:!0,children:"A\xe7\xf5es"})]})}),(0,a.jsx)(n.Tbody,{children:e.map(e=>(0,a.jsxs)(n.Tr,{children:[(0,a.jsx)(n.Td,{px:3,py:2,children:e.corporateName}),(0,a.jsx)(n.Td,{px:3,py:2,children:e.tradeName}),(0,a.jsx)(n.Td,{px:3,py:2,children:(0,i.R)(e.cnpj)}),(0,a.jsx)(n.Td,{px:3,py:2,children:e.status}),(0,a.jsx)(n.Td,{px:3,py:2,children:e.openingDate}),(0,a.jsx)(n.Td,{px:3,py:2,children:e.type}),(0,a.jsx)(n.Td,{px:3,py:2,children:e.legalNature}),(0,a.jsx)(n.Td,{px:3,py:2,children:e.mainActivity}),(0,a.jsx)(n.Td,{px:3,py:2,children:e.address}),(0,a.jsx)(n.Td,{isNumeric:!0,px:3,py:2,children:(0,a.jsxs)(n.HStack,{justify:"end",spacing:2,children:[(0,a.jsx)(n.Button,{size:"sm",colorScheme:"blue",onClick:()=>s(e),children:"Editar"}),(0,a.jsx)(n.Button,{size:"sm",colorScheme:"red",onClick:()=>c(e.id),children:"Remover"})]})})]},e.id))})]})};s()}catch(e){s(e)}})},9021:e=>{"use strict";e.exports=require("fs")},9263:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{A:()=>l});var a=r(8732),n=r(9733),o=r(6560),i=e([n,o]);function l({children:e}){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{}),(0,a.jsx)(n.Box,{as:"main",p:8,children:e})]})}[n,o]=i.then?(await i)():i,s()}catch(e){s(e)}})},9433:(e,t,r)=>{"use strict";function s(e){return e.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/,"$1.$2.$3/$4-$5")}r.d(t,{R:()=>s})},9733:e=>{"use strict";e.exports=import("@chakra-ui/react")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[616,441,887],()=>r(3231));module.exports=s})();