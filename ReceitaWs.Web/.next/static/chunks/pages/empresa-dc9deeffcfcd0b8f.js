(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[477],{594:(e,t,s)=>{"use strict";s.d(t,{A:()=>E});var r=s(7876),a=s(9955),n=s(8061),i=s(4836),l=s(9803),o=s(1921),c=s(485),d=s(9736),u=s(5812),x=s(8387),h=s(8745),p=s(9035),m=s(1626),j=s(3642),g=s(4306),f=s(2897),y=s(2426),b=s(5018),v=s(5539),C=s(6078),_=s(1362),N=s(8615),S=s(9099),k=s(6534);function A(){let e=(0,S.useRouter)(),t=(0,k.A)(e=>e.logout),{colorMode:s,toggleColorMode:A}=(0,n.G6)(),E=(0,n.dU)("white","gray.900"),w=(0,n.dU)("gray.200","gray.700"),{isOpen:R,onOpen:I,onClose:z}=(0,i.j)(),M=()=>{localStorage.removeItem("token"),t(),e.replace("/login")};return(0,r.jsxs)(a.a,{as:"header",px:4,mt:5,zIndex:10,children:[(0,r.jsx)(a.a,{bg:E,borderRadius:"full",boxShadow:"lg",border:"1px solid",borderColor:w,px:6,py:4,maxW:"6xl",mx:"auto",children:(0,r.jsxs)(l.s,{align:"center",justify:"space-between",wrap:"wrap",children:[(0,r.jsx)(o.E,{fontSize:{base:"lg",md:"xl"},fontWeight:"bold",color:"blue.500",children:"ReceitaWs"}),(0,r.jsx)(c.K,{"aria-label":"Abrir menu",icon:(0,r.jsx)(N.ND1,{}),display:{base:"inline-flex",md:"none"},onClick:I,variant:"ghost"}),(0,r.jsxs)(d.z,{spacing:6,display:{base:"none",md:"flex"},children:[(0,r.jsx)(u.$,{leftIcon:(0,r.jsx)(N.qYx,{}),variant:"ghost",onClick:()=>e.push("/empresa"),colorScheme:"blue",children:"Empresas"}),(0,r.jsx)(u.$,{leftIcon:(0,r.jsx)(N.cfS,{}),variant:"ghost",onClick:()=>e.push("/usuarios"),colorScheme:"purple",children:"Usu\xe1rios"})]}),(0,r.jsxs)(d.z,{spacing:4,display:{base:"none",md:"flex"},children:[(0,r.jsxs)(l.s,{align:"center",gap:2,children:[(0,r.jsx)(x.I,{as:"light"===s?N.Wh$:N.hkc,color:"light"===s?"yellow.500":"blue.300",boxSize:5}),(0,r.jsx)(h.d,{isChecked:"dark"===s,onChange:A,colorScheme:"yellow","aria-label":"Alternar modo de cor"})]}),(0,r.jsxs)(p.W,{children:[(0,r.jsx)(m.I,{as:c.K,"aria-label":"Abrir configura\xe7\xf5es",icon:(0,r.jsx)(N.VSk,{}),variant:"outline",size:"md"}),(0,r.jsx)(j.c,{children:(0,r.jsx)(g.D,{icon:(0,r.jsx)(x.I,{as:N.QeK,color:"red.500"}),onClick:M,children:"Sair"})})]})]})]})}),(0,r.jsxs)(f._s,{isOpen:R,placement:"right",onClose:z,children:[(0,r.jsx)(y.m,{}),(0,r.jsxs)(b.z,{bg:E,children:[(0,r.jsx)(v.s,{}),(0,r.jsx)(C.c,{mt:10,children:(0,r.jsxs)(_.T,{spacing:6,align:"start",children:[(0,r.jsx)(u.$,{leftIcon:(0,r.jsx)(N.qYx,{}),variant:"ghost",colorScheme:"blue",onClick:()=>{e.push("/empresa"),z()},children:"Empresas"}),(0,r.jsx)(u.$,{leftIcon:(0,r.jsx)(N.cfS,{}),variant:"ghost",colorScheme:"purple",onClick:()=>{e.push("/usuarios"),z()},children:"Usu\xe1rios"}),(0,r.jsxs)(l.s,{align:"center",gap:3,w:"full",justifyContent:"flex-start",children:[(0,r.jsx)(x.I,{as:"light"===s?N.Wh$:N.hkc,color:"light"===s?"yellow.500":"blue.300",boxSize:5,marginLeft:4}),"Dark Mode",(0,r.jsx)(h.d,{isChecked:"dark"===s,onChange:A,colorScheme:"yellow",size:"lg","aria-label":"Alternar modo de cor"})]}),(0,r.jsx)(u.$,{leftIcon:(0,r.jsx)(N.QeK,{}),colorScheme:"red",variant:"ghost",onClick:M,children:"Sair"})]})})]})]})]})}function E(e){let{children:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A,{}),(0,r.jsx)(a.a,{as:"main",p:8,children:t})]})}},2081:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ea});var r=s(7876),a=s(4232),n=s(9955),i=s(2736),l=s(1362),o=s(5377),c=s(3869),d=s(6676),u=s(6491),x=s(5812),h=s(3899);async function p(e){return h.A.post("/api/Company/register?cnpj=".concat(e))}async function m(){return h.A.get("/api/Company/GetAll")}async function j(e,t){return h.A.put("/api/Company/update/".concat(e),t)}async function g(e){return h.A.delete("/api/Company/delete/".concat(e))}let f=e=>{let{onSuccess:t}=e,[s,i]=(0,a.useState)(""),[h,m]=(0,a.useState)(!1),j=(0,o.d)(),g=async()=>{if(s){m(!0);try{await p(s),j({title:"Empresa registrada com sucesso!",status:"success",duration:3e3,isClosable:!0}),i(""),t()}catch(t){var e;j({title:"Erro ao registrar empresa",description:(null==t||null==(e=t.response)?void 0:e.data)||"Erro inesperado.",status:"error",duration:4e3,isClosable:!0})}finally{m(!1)}}};return(0,r.jsxs)(n.a,{mb:6,children:[(0,r.jsxs)(c.MJ,{children:[(0,r.jsx)(d.l,{children:"CNPJ"}),(0,r.jsx)(u.p,{value:s,onChange:e=>i(e.target.value),placeholder:"Digite o CNPJ"})]}),(0,r.jsxs)(l.T,{align:"start",spacing:3,mt:4,children:[(0,r.jsx)(x.$,{colorScheme:"green",onClick:g,isLoading:h,children:"Registrar CNPJ"}),(0,r.jsx)(x.$,{onClick:()=>{t()},children:"Buscar"})]})]})};var y=s(851),b=s(9185),v=s(6229),C=s(5255),_=s(9461),N=s(4013),S=s(6044);let[k,A]=(0,v.q)({name:"TableStylesContext",errorMessage:"useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Table />\" "}),E=(0,_.R)((e,t)=>{let s=(0,N.o)("Table",e),{className:a,layout:n,...i}=(0,b.M)(e);return(0,r.jsx)(k,{value:s,children:(0,r.jsx)(S.B.table,{ref:t,__css:{tableLayout:n,...s.table},className:(0,C.cx)("chakra-table",a),...i})})});E.displayName="Table";let w=(0,_.R)((e,t)=>{let s=A();return(0,r.jsx)(S.B.thead,{...e,ref:t,__css:s.thead})}),R=(0,_.R)((e,t)=>{let s=A();return(0,r.jsx)(S.B.tr,{...e,ref:t,__css:s.tr})}),I=(0,_.R)(({isNumeric:e,...t},s)=>{let a=A();return(0,r.jsx)(S.B.th,{...t,ref:s,__css:a.th,"data-is-numeric":e})}),z=(0,_.R)((e,t)=>{let s=A();return(0,r.jsx)(S.B.tbody,{...e,ref:t,__css:s.tbody})}),M=(0,_.R)(({isNumeric:e,...t},s)=>{let a=A();return(0,r.jsx)(S.B.td,{...t,ref:s,__css:a.td,"data-is-numeric":e})});var P=s(9736);function J(e){return e.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/,"$1.$2.$3/$4-$5")}let $=e=>{let{data:t,loading:s,onRefresh:a,onEdit:n}=e,i=(0,o.d)(),l=async e=>{try{await g(e),i({title:"Empresa removida com sucesso",status:"success",duration:3e3,isClosable:!0}),a()}catch(e){i({title:"Erro ao remover empresa",status:"error",duration:3e3,isClosable:!0})}};return s?(0,r.jsx)(y.y,{size:"xl",color:"blue.500"}):(0,r.jsxs)(E,{variant:"striped",size:"md",children:[(0,r.jsx)(w,{children:(0,r.jsxs)(R,{children:[(0,r.jsx)(I,{children:"Raz\xe3o Social"}),(0,r.jsx)(I,{children:"Nome Fantasia"}),(0,r.jsx)(I,{children:"CNPJ"}),(0,r.jsx)(I,{children:"Status"}),(0,r.jsx)(I,{children:"Data de Abertura"}),(0,r.jsx)(I,{children:"Tipo"}),(0,r.jsx)(I,{children:"Natureza Jur\xeddica"}),(0,r.jsx)(I,{children:"Atividade Principal"}),(0,r.jsx)(I,{children:"Endere\xe7o"}),(0,r.jsx)(I,{isNumeric:!0,children:"A\xe7\xf5es"})]})}),(0,r.jsx)(z,{children:t.map(e=>(0,r.jsxs)(R,{children:[(0,r.jsx)(M,{px:3,py:2,children:e.corporateName}),(0,r.jsx)(M,{px:3,py:2,children:e.tradeName}),(0,r.jsx)(M,{px:3,py:2,children:J(e.cnpj)}),(0,r.jsx)(M,{px:3,py:2,children:e.status}),(0,r.jsx)(M,{px:3,py:2,children:e.openingDate}),(0,r.jsx)(M,{px:3,py:2,children:e.type}),(0,r.jsx)(M,{px:3,py:2,children:e.legalNature}),(0,r.jsx)(M,{px:3,py:2,children:e.mainActivity}),(0,r.jsx)(M,{px:3,py:2,children:e.address}),(0,r.jsx)(M,{isNumeric:!0,px:3,py:2,children:(0,r.jsxs)(P.z,{justify:"end",spacing:2,children:[(0,r.jsx)(x.$,{size:"sm",colorScheme:"blue",onClick:()=>n(e),children:"Editar"}),(0,r.jsx)(x.$,{size:"sm",colorScheme:"red",onClick:()=>l(e.id),children:"Remover"})]})})]},e.id))})]})};var T=s(594),B=s(9099),q=s(184),U=s(2426),L=s(7118),F=s(8521),D=s(3333),O=s(7212),W=s(6835);let H={initial:"initial",animate:"enter",exit:"exit",variants:{initial:({offsetX:e,offsetY:t,transition:s,transitionEnd:r,delay:a})=>({opacity:0,x:e,y:t,transition:s?.exit??W.yA.exit(W.jd.exit,a),transitionEnd:r?.exit}),enter:({transition:e,transitionEnd:t,delay:s})=>({opacity:1,x:0,y:0,transition:e?.enter??W.yA.enter(W.jd.enter,s),transitionEnd:t?.enter}),exit:({offsetY:e,offsetX:t,transition:s,transitionEnd:r,reverse:a,delay:n})=>{let i={x:t,y:e};return{opacity:0,transition:s?.exit??W.yA.exit(W.jd.exit,n),...a?{...i,transitionEnd:r?.exit}:{transitionEnd:{...i,...r?.exit}}}}}};(0,a.forwardRef)(function(e,t){let{unmountOnExit:s,in:a,reverse:n=!0,className:i,offsetX:l=0,offsetY:o=8,transition:c,transitionEnd:d,delay:u,animatePresenceProps:x,...h}=e,p=!s||a&&s,m=a||s?"enter":"exit",j={offsetX:l,offsetY:o,reverse:n,transition:c,transitionEnd:d,delay:u};return(0,r.jsx)(O.N,{...x,custom:j,children:p&&(0,r.jsx)(D.P.div,{ref:t,className:(0,C.cx)("chakra-offset-slide",i),custom:j,...H,animate:m,...h})})}).displayName="SlideFade";let X={initial:"exit",animate:"enter",exit:"exit",variants:{exit:({reverse:e,initialScale:t,transition:s,transitionEnd:r,delay:a})=>({opacity:0,...e?{scale:t,transitionEnd:r?.exit}:{transitionEnd:{scale:t,...r?.exit}},transition:s?.exit??W.yA.exit(W.jd.exit,a)}),enter:({transitionEnd:e,transition:t,delay:s})=>({opacity:1,scale:1,transition:t?.enter??W.yA.enter(W.jd.enter,s),transitionEnd:e?.enter})}};(0,a.forwardRef)(function(e,t){let{unmountOnExit:s,in:a,reverse:n=!0,initialScale:i=.95,className:l,transition:o,transitionEnd:c,delay:d,animatePresenceProps:u,...x}=e,h=!s||a&&s,p=a||s?"enter":"exit",m={initialScale:i,reverse:n,transition:o,transitionEnd:c,delay:d};return(0,r.jsx)(O.N,{...u,custom:m,children:h&&(0,r.jsx)(D.P.div,{ref:t,className:(0,C.cx)("chakra-offset-slide",l),...X,animate:p,custom:m,...x})})}).displayName="ScaleFade";let Z={slideInBottom:{...H,custom:{offsetY:16,reverse:!0}},slideInRight:{...H,custom:{offsetX:16,reverse:!0}},slideInTop:{...H,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...H,custom:{offsetX:-16,reverse:!0}},scale:{...X,custom:{initialScale:.95,reverse:!0}},none:{}},K=(0,S.B)(D.P.section),Y=e=>Z[e||"none"],Q=(0,a.forwardRef)((e,t)=>{let{preset:s,motionProps:a=Y(s),...n}=e;return(0,r.jsx)(K,{ref:t,...a,...n})});Q.displayName="ModalTransition";let G=(0,_.R)((e,t)=>{let{className:s,children:a,containerProps:n,motionProps:i,...l}=e,{getDialogProps:o,getDialogContainerProps:c}=(0,q.k3)(),d=o(l,t),u=c(n),x=(0,C.cx)("chakra-modal__content",s),h=(0,q.x5)(),p=(0,L.H2)({display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...h.dialog}),m=(0,L.H2)({display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...h.dialogContainer}),{motionPreset:j}=(0,q.k3)();return(0,r.jsx)(F.u,{children:(0,r.jsx)(S.B.div,{...u,className:"chakra-modal__content-container",tabIndex:-1,__css:m,children:(0,r.jsx)(Q,{preset:j,motionProps:i,className:x,...d,__css:p,children:a})})})});G.displayName="ModalContent";let V=(0,_.R)((e,t)=>{let{className:s,...n}=e,{headerId:i,setHeaderMounted:l}=(0,q.k3)();(0,a.useEffect)(()=>(l(!0),()=>l(!1)),[l]);let o=(0,C.cx)("chakra-modal__header",s),c=(0,q.x5)(),d=(0,L.H2)({flex:0,...c.header});return(0,r.jsx)(S.B.header,{ref:t,className:o,id:i,...n,__css:d})});V.displayName="ModalHeader";var ee=s(5539),et=s(6078);let es=(0,_.R)((e,t)=>{let{className:s,...a}=e,n=(0,C.cx)("chakra-modal__footer",s),i=(0,q.x5)(),l=(0,L.H2)({display:"flex",alignItems:"center",justifyContent:"flex-end",...i.footer});return(0,r.jsx)(S.B.footer,{ref:t,...a,__css:l,className:n})});es.displayName="ModalFooter";let er=e=>{let{isOpen:t,onClose:s,company:n,onSuccess:i}=e,h=(0,o.d)(),[p,m]=(0,a.useState)({tradeName:"",status:"",mainActivity:"",street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zipCode:""});(0,a.useEffect)(()=>{if(n){var e;let t=(null==(e=n.address)?void 0:e.split(", "))||[];m({tradeName:n.tradeName||"",status:n.status||"",mainActivity:n.mainActivity||"",street:t[0]||"",number:t[1]||"",complement:t[2]||"",neighborhood:t[3]||"",city:t[4]||"",state:t[5]||"",zipCode:t[6]||""})}},[n]);let g=e=>{m({...p,[e.target.name]:e.target.value})},f=async()=>{if(n)try{await j(n.id,p),h({title:"Empresa atualizada com sucesso!",status:"success",duration:3e3,isClosable:!0}),s(),i()}catch(e){h({title:"Erro ao atualizar empresa",status:"error",duration:3e3,isClosable:!0})}};return n?(0,r.jsxs)(q.aF,{isOpen:t,onClose:s,size:"xl",children:[(0,r.jsx)(U.m,{}),(0,r.jsxs)(G,{children:[(0,r.jsx)(V,{children:"Editar Empresa"}),(0,r.jsx)(ee.s,{}),(0,r.jsx)(et.c,{children:(0,r.jsxs)(l.T,{spacing:4,children:[(0,r.jsxs)(c.MJ,{children:[(0,r.jsx)(d.l,{children:"CNPJ"}),(0,r.jsx)(u.p,{value:J(n.cnpj),isReadOnly:!0})]}),(0,r.jsxs)(c.MJ,{children:[(0,r.jsx)(d.l,{children:"Nome Fantasia"}),(0,r.jsx)(u.p,{name:"tradeName",value:p.tradeName,onChange:g})]}),(0,r.jsxs)(c.MJ,{children:[(0,r.jsx)(d.l,{children:"Status"}),(0,r.jsx)(u.p,{name:"status",value:p.status,onChange:g})]}),(0,r.jsxs)(c.MJ,{children:[(0,r.jsx)(d.l,{children:"Atividade Principal"}),(0,r.jsx)(u.p,{name:"mainActivity",value:p.mainActivity,onChange:g})]}),(0,r.jsxs)(c.MJ,{children:[(0,r.jsx)(d.l,{children:"Rua"}),(0,r.jsx)(u.p,{name:"street",value:p.street,onChange:g})]}),(0,r.jsxs)(c.MJ,{children:[(0,r.jsx)(d.l,{children:"N\xfamero"}),(0,r.jsx)(u.p,{name:"number",value:p.number,onChange:g})]}),(0,r.jsxs)(c.MJ,{children:[(0,r.jsx)(d.l,{children:"Complemento"}),(0,r.jsx)(u.p,{name:"complement",value:p.complement,onChange:g})]}),(0,r.jsxs)(c.MJ,{children:[(0,r.jsx)(d.l,{children:"Bairro"}),(0,r.jsx)(u.p,{name:"neighborhood",value:p.neighborhood,onChange:g})]}),(0,r.jsxs)(c.MJ,{children:[(0,r.jsx)(d.l,{children:"Cidade"}),(0,r.jsx)(u.p,{name:"city",value:p.city,onChange:g})]}),(0,r.jsxs)(c.MJ,{children:[(0,r.jsx)(d.l,{children:"Estado"}),(0,r.jsx)(u.p,{name:"state",value:p.state,onChange:g})]}),(0,r.jsxs)(c.MJ,{children:[(0,r.jsx)(d.l,{children:"CEP"}),(0,r.jsx)(u.p,{name:"zipCode",value:p.zipCode,onChange:g})]})]})}),(0,r.jsxs)(es,{children:[(0,r.jsx)(x.$,{colorScheme:"green",onClick:f,mr:3,children:"Salvar"}),(0,r.jsx)(x.$,{variant:"ghost",onClick:s,children:"Cancelar"})]})]})]}):null};function ea(){let[e,t]=(0,a.useState)(null),{data:s,loading:o,refresh:c}=function(){let[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)(!1),n=async()=>{r(!0);try{let e=await m();t(e.data.companys)}finally{r(!1)}};return(0,a.useEffect)(()=>{n()},[]),{data:e,loading:s,refresh:n}}();return(0,B.useRouter)(),(0,r.jsx)(T.A,{children:(0,r.jsxs)(n.a,{p:8,children:[(0,r.jsx)(i.D,{mb:6,children:"Cadastro de Empresas"}),(0,r.jsx)(f,{onSuccess:c}),(0,r.jsxs)(l.T,{mt:8,spacing:4,align:"stretch",children:[(0,r.jsx)($,{data:s,loading:o,onRefresh:c,onEdit:e=>{t(e)}}),(0,r.jsx)(er,{isOpen:!!e,onClose:()=>t(null),company:e,onSuccess:c})]})]})})}},3899:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(1040),a=s(5364);let n=r.A.create({baseURL:a.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:5000",headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{let t=localStorage.getItem("jwtToken")||sessionStorage.getItem("jwtToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>{var t;return(null==(t=e.response)?void 0:t.status)===401&&(localStorage.clear(),sessionStorage.clear(),window.location.href="/auth/login"),Promise.reject(e)});let i=n},5377:(e,t,s)=>{"use strict";s.d(t,{d:()=>c});var r=s(4232),a=s(3446),n=s(1839),i=s(1294),l=s(3519),o=s(6674);function c(e){let{theme:t}=(0,o.UQ)(),s=(0,l.NU)();return(0,r.useMemo)(()=>(function(e,t){let s=s=>({...t,...s,position:function(e,t){let s=e??"bottom";return({"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}})[s]?.[t]??s}(s?.position??t?.position,e)}),r=e=>{let t=s(e),r=(0,n.q)(t);return i.Z.notify(r,t)};return r.update=(e,t)=>{i.Z.update(e,s(t))},r.promise=(e,t)=>{let s=r({...t.loading,status:"loading",duration:null});e.then(e=>r.update(s,{status:"success",duration:5e3,...(0,a.J)(t.success,e)})).catch(e=>r.update(s,{status:"error",duration:5e3,...(0,a.J)(t.error,e)}))},r.closeAll=i.Z.closeAll,r.close=i.Z.close,r.isActive=i.Z.isActive,r})(t.direction,{...s,...e}),[e,t.direction,s])}},6534:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(8106).v)(e=>({token:null,user:null,setAuth:(t,s)=>{localStorage.setItem("token",t),e({token:t,user:s})},logout:()=>{localStorage.removeItem("token"),e({token:null,user:null})}}))},6676:(e,t,s)=>{"use strict";s.d(t,{l:()=>d});var r=s(7876),a=s(9185),n=s(5255),i=s(3869),l=s(9461),o=s(4013),c=s(6044);let d=(0,l.R)(function(e,t){let s=(0,o.V)("FormLabel",e),l=(0,a.M)(e),{className:d,children:x,requiredIndicator:h=(0,r.jsx)(u,{}),optionalIndicator:p=null,...m}=l,j=(0,i.Uc)(),g=j?.getLabelProps(m,t)??{ref:t,...m};return(0,r.jsxs)(c.B.label,{...g,className:(0,n.cx)("chakra-form__label",l.className),__css:{display:"block",textAlign:"start",...s},children:[x,j?.isRequired?h:p]})});d.displayName="FormLabel";let u=(0,l.R)(function(e,t){let s=(0,i.Uc)(),a=(0,i.TP)();if(!s?.isRequired)return null;let l=(0,n.cx)("chakra-form__required-indicator",e.className);return(0,r.jsx)(c.B.span,{...s?.getRequiredIndicatorProps(e,t),__css:a.requiredIndicator,className:l})});u.displayName="RequiredIndicator"},9204:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/empresa",function(){return s(2081)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[141,158,156,636,593,792],()=>t(9204)),_N_E=e.O()}]);