(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{3622:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>O});var s=r(7876),n=r(4232),o=r(9099),a=r(6534),l=r(5377),i=r(9803),c=r(8061),u=r(5727),d=r(2736),h=r(1921),m=r(9955),p=r(3869),g=r(6676),x=r(6491),f=r(9185),j=r(7396),b=r(4715),v=r(5255),k=r(8993);let[y,_]=(0,r(6229).q)({name:"CheckboxGroupContext",strict:!1});var S=r(6044);function w(e){return(0,s.jsx)(S.B.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...e,children:(0,s.jsx)("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function C(e){return(0,s.jsx)(S.B.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...e,children:(0,s.jsx)("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function I(e){let{isIndeterminate:t,isChecked:r,...n}=e;return r||t?(0,s.jsx)(S.B.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:(0,s.jsx)(t?C:w,{...n})}):null}var N=r(6452),A=r(9461),B=r(4013);let E={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},R={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},q=(0,k.i7)({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),U=(0,k.i7)({from:{opacity:0},to:{opacity:1}}),D=(0,k.i7)({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),P=(0,A.R)(function(e,t){let r=_(),o={...r,...e},a=(0,B.o)("Checkbox",o),l=(0,f.M)(e),{spacing:i="0.5rem",className:c,children:u,iconColor:d,iconSize:h,icon:m=(0,s.jsx)(I,{}),isChecked:p,isDisabled:g=r?.isDisabled,onChange:x,inputProps:k,...y}=l,w=p;r?.value&&l.value&&(w=r.value.includes(l.value));let C=x;r?.onChange&&l.value&&(C=(0,j.O)(r.onChange,x));let{state:A,getInputProps:P,getCheckboxProps:T,getLabelProps:M,getRootProps:J}=(0,N.v)({...y,isDisabled:g,isChecked:w,onChange:C}),L=function(e){let[t,r]=(0,n.useState)(e),[s,o]=(0,n.useState)(!1);return e!==t&&(o(!0),r(e)),s}(A.isChecked),O=(0,n.useMemo)(()=>({animation:L?A.isIndeterminate?`${U} 20ms linear, ${D} 200ms linear`:`${q} 200ms linear`:void 0,...a.icon,...(0,b.o)({fontSize:h,color:d})}),[d,h,L,A.isIndeterminate,a.icon]),X=(0,n.cloneElement)(m,{__css:O,isIndeterminate:A.isIndeterminate,isChecked:A.isChecked});return(0,s.jsxs)(S.B.label,{__css:{...R,...a.container},className:(0,v.cx)("chakra-checkbox",c),...J(),children:[(0,s.jsx)("input",{className:"chakra-checkbox__input",...P(k,t)}),(0,s.jsx)(S.B.span,{__css:{...E,...a.control},className:"chakra-checkbox__control",...T(),children:X}),u&&(0,s.jsx)(S.B.span,{className:"chakra-checkbox__label",...M(),__css:{marginStart:i,...a.label},children:u})]})});P.displayName="Checkbox";var T=r(5812),M=r(3899);async function J(e){return(await M.A.post("/api/Auth/login",e)).data}function L(){let[e,t]=(0,n.useState)(""),[r,f]=(0,n.useState)(""),[j,b]=(0,n.useState)(!1),v=(0,o.useRouter)(),k=(0,a.A)(e=>e.setAuth),y=(0,l.d)();(0,n.useEffect)(()=>{try{let e=localStorage.getItem("user");if(!e)return;let r=JSON.parse(e);(null==r?void 0:r.username)&&t(r.username),(null==r?void 0:r.rememberMe)&&b(r.rememberMe)}catch(e){localStorage.removeItem("user")}},[]);let _=async t=>{t.preventDefault();try{let{token:t,user:s}=await J({username:e,password:r});j?(localStorage.setItem("jwtToken",t),localStorage.setItem("user",JSON.stringify({...s,rememberMe:j}))):(sessionStorage.setItem("jwtToken",t),sessionStorage.setItem("user",JSON.stringify(s))),k(t,s),v.replace("/empresa")}catch(e){y({title:"Erro de login",description:"Usu\xe1rio ou senha inv\xe1lidos",status:"error",duration:4e3,isClosable:!0})}};return(0,s.jsx)(i.s,{minH:"100vh",w:"100vw",align:"center",justify:"center",bg:(0,c.dU)("gray.50","gray.800"),children:(0,s.jsx)("form",{onSubmit:_,children:(0,s.jsxs)(u.B,{spacing:8,mx:"auto",maxW:"lg",py:12,px:6,children:[(0,s.jsxs)(u.B,{align:"center",children:[(0,s.jsx)(d.D,{fontSize:"4xl",children:"Acessar sua conta"}),(0,s.jsxs)(h.E,{fontSize:"lg",color:"gray.600",children:["para acessar o sistema"," ",(0,s.jsx)(h.E,{as:"span",color:"blue.400",children:"ReceitaWs"})," ","\uD83D\uDE80"]})]}),(0,s.jsx)(m.a,{rounded:"lg",bg:(0,c.dU)("white","gray.700"),boxShadow:"lg",p:8,children:(0,s.jsxs)(u.B,{spacing:4,children:[(0,s.jsxs)(p.MJ,{id:"username",isRequired:!0,children:[(0,s.jsx)(g.l,{children:"Usu\xe1rio"}),(0,s.jsx)(x.p,{type:"text",value:e,onChange:e=>t(e.target.value)})]}),(0,s.jsxs)(p.MJ,{id:"password",isRequired:!0,children:[(0,s.jsx)(g.l,{children:"Senha"}),(0,s.jsx)(x.p,{type:"password",value:r,onChange:e=>f(e.target.value)})]}),(0,s.jsxs)(u.B,{spacing:10,children:[(0,s.jsx)(P,{isChecked:j,onChange:e=>b(e.target.checked),children:"Lembrar de mim"}),(0,s.jsx)(T.$,{type:"submit",bg:"blue.400",color:"white",_hover:{bg:"blue.500"},children:"Entrar"})]})]})})]})})})}function O(){let e=(0,o.useRouter)(),{token:t}=(0,a.A)();return(0,n.useEffect)(()=>{t&&e.replace("/empresa")},[t,e]),(0,s.jsx)("main",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,s.jsx)(L,{})})}},3899:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(1040),n=r(5364);let o=s.A.create({baseURL:n.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:5000",headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{let t=localStorage.getItem("jwtToken")||sessionStorage.getItem("jwtToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),o.interceptors.response.use(e=>e,e=>{var t;return(null==(t=e.response)?void 0:t.status)===401&&(localStorage.clear(),sessionStorage.clear(),window.location.href="/auth/login"),Promise.reject(e)});let a=o},5377:(e,t,r)=>{"use strict";r.d(t,{d:()=>c});var s=r(4232),n=r(3446),o=r(1839),a=r(1294),l=r(3519),i=r(6674);function c(e){let{theme:t}=(0,i.UQ)(),r=(0,l.NU)();return(0,s.useMemo)(()=>(function(e,t){let r=r=>({...t,...r,position:function(e,t){let r=e??"bottom";return({"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}})[r]?.[t]??r}(r?.position??t?.position,e)}),s=e=>{let t=r(e),s=(0,o.q)(t);return a.Z.notify(s,t)};return s.update=(e,t)=>{a.Z.update(e,r(t))},s.promise=(e,t)=>{let r=s({...t.loading,status:"loading",duration:null});e.then(e=>s.update(r,{status:"success",duration:5e3,...(0,n.J)(t.success,e)})).catch(e=>s.update(r,{status:"error",duration:5e3,...(0,n.J)(t.error,e)}))},s.closeAll=a.Z.closeAll,s.close=a.Z.close,s.isActive=a.Z.isActive,s})(t.direction,{...r,...e}),[e,t.direction,r])}},6534:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(8106).v)(e=>({token:null,user:null,setAuth:(t,r)=>{localStorage.setItem("token",t),e({token:t,user:r})},logout:()=>{localStorage.removeItem("token"),e({token:null,user:null})}}))},6676:(e,t,r)=>{"use strict";r.d(t,{l:()=>u});var s=r(7876),n=r(9185),o=r(5255),a=r(3869),l=r(9461),i=r(4013),c=r(6044);let u=(0,l.R)(function(e,t){let r=(0,i.V)("FormLabel",e),l=(0,n.M)(e),{className:u,children:h,requiredIndicator:m=(0,s.jsx)(d,{}),optionalIndicator:p=null,...g}=l,x=(0,a.Uc)(),f=x?.getLabelProps(g,t)??{ref:t,...g};return(0,s.jsxs)(c.B.label,{...f,className:(0,o.cx)("chakra-form__label",l.className),__css:{display:"block",textAlign:"start",...r},children:[h,x?.isRequired?m:p]})});u.displayName="FormLabel";let d=(0,l.R)(function(e,t){let r=(0,a.Uc)(),n=(0,a.TP)();if(!r?.isRequired)return null;let l=(0,o.cx)("chakra-form__required-indicator",e.className);return(0,s.jsx)(c.B.span,{...r?.getRequiredIndicatorProps(e,t),__css:n.requiredIndicator,className:l})});d.displayName="RequiredIndicator"},7984:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(3622)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[158,636,593,792],()=>t(7984)),_N_E=e.O()}]);